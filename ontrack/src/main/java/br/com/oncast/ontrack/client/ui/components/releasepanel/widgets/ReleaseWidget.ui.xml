<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"
	xmlns:g="urn:import:com.google.gwt.user.client.ui"
	xmlns:ow="urn:import:br.com.oncast.ontrack.client.ui.components.releasepanel.widgets"
	xmlns:t="urn:import:br.com.oncast.ontrack.client.ui.generalwidgets">

	<ui:with field="resources" type="br.com.oncast.ontrack.client.ui.components.releasepanel.widgets.ReleaseWidget.Resources"/>
	<ui:style src="../../../style/default.css" type="br.com.oncast.ontrack.client.ui.components.releasepanel.widgets.ReleaseWidget.Style">
		
			.rootPanel {
				position: relative;
				width: 100%;
				
				margin-bottom: 10px;
			}
			
			.header {
				width: 100%;
				height: 36px;
				
				padding: 8px;

				border: RELEASE_WIDGET_BORDER;
				
				background: COLOR_RELEASE_WIDGET_HEADER_BACKGROUND_OPENED;
				-webkit-box-shadow: RELEASE_WIDGET_HEADER_SHADOW_OPENED;
				-moz-box-shadow: RELEASE_WIDGET_HEADER_SHADOW_OPENED;
				box-shadow: RELEASE_WIDGET_HEADER_SHADOW_OPENED;
				
				color: COLOR_RELEASE_WIDGET_HEADER_TEXT_OPENED;
				font-family: FONT_DEFAULT;
				font-size: FONT_SIZE_LARGE;				
				text-shadow: RELEASE_WIDGET_HEADER_TEXT_SHADOW;
				filter: RELEASE_WIDGET_HEADER_TEXT_SHADOW_IE;
			}
			
			.headerClosed {
				background: COLOR_RELEASE_WIDGET_HEADER_BACKGROUND_CLOSED;
				-webkit-box-shadow: RELEASE_WIDGET_HEADER_SHADOW_CLOSED;
				-moz-box-shadow: RELEASE_WIDGET_HEADER_SHADOW_CLOSED;
				box-shadow: RELEASE_WIDGET_HEADER_SHADOW_CLOSED;
				
				color: COLOR_RELEASE_WIDGET_HEADER_TEXT_CLOSED;
			}
			
			
			.containerStateToogleClickableArea {
				width: 100%;
				height: 100%;
				position: relative;
			}
			
			.headerItem, .descriptionLabel {
				cursor: pointer;
				margin: 0px 4px;
			}
			
			.headerContainerStateImage {
				margin-bottom: -1px;
			}
			
			.progressIcon {
				margin-bottom: -3px;
			}
			
			.kanbanIcon {
				margin-bottom: -2px;
			}
			
			.descriptionLabel {
				position: absolute;
				top: 0px;
				left: 0px;
				bottom: 0px;
				right: 0px;
				
				cursor: auto;
			}
			
			.menuLink {
				cursor: pointer;
				
				background-color: COLOR_RELEASE_WIDGET_HEADER_BACKGROUND_OPENED;
				
				position: absolute;
				top: 10px;
				right: -11px;
			}
			
			.body {
				position: relative;
				margin: 0px 5px;

				border: RELEASE_WIDGET_BORDER;
				border-top: none;
				
				background-color: COLOR_MENUBOX_BACKGROUND;
			}
			
			.releaseContainer {
				padding: 10px 5px 0px 5px;
				width: 100%;
			}
			
			.laterSeparator {
				width: 100%;
				padding: 0px 5px;	
			}
			
			.laterImage {
				margin-bottom: 3.5px;
			}
			
			.laterLabel {
				margin: 0px 4px;

				color: COLOR_RELEASE_WIDGET_HEADER_TEXT_CLOSED; 
				font-family: FONT_DEFAULT;
				font-size: 8pt;
				text-transform: uppercase;
				text-shadow: -1px 0px 1px #CCCCCC;
				filter: literal('dropshadow(color=#CCCCCC, offx=-1, offy=0)');;
			}
			
			.laterLine {
				height: 1px;
				width: 100%;
				background-color: COLOR_RELEASE_WIDGET_BORDER;
			}
			
			.scopeContainer {
				padding: 5px;
				width: 100%;
			}
			
			/* //TODO+++ think a better way to handle border problem */
			.scopeContainer > tbody > tr:first-child > td > div {
			}
			
			.chartPanel {
                width: 900px;
                z-index: 2;
			}
			
			.chartPanel:FOCUS {
				outline: 0px;
			}
		</ui:style>

	<g:HTMLPanel styleName="{style.rootPanel}">
		<g:FocusPanel ui:field="menuMouseOverArea">
			<g:HTMLPanel>
				<g:HorizontalPanel ui:field="header" styleName="{style.header}" verticalAlignment="middle">
					<g:cell width="1">
						<g:Image resource="{resources.containerStateOpened}" ui:field="containerStateIcon" styleName="{style.headerContainerStateImage} {style.headerItem}" />
					</g:cell>
					<g:cell width="100%" height="100%">
						<g:FocusPanel styleName="{style.containerStateToogleClickableArea}">
							<t:EditableLabel ui:field="descriptionLabel" addStyleNames="{style.descriptionLabel}"/>
						</g:FocusPanel>
					</g:cell>
					<g:cell width="1">
						<g:Image ui:field="progressIcon" resource="{resources.progress0}" styleName="{style.headerItem} {style.progressIcon}"/>
					</g:cell>
					<g:cell width="1">
						<g:Image ui:field="kanbanLink" resource="{resources.kanbanIcon}" styleName="{style.headerItem} {style.kanbanIcon}" />
					</g:cell>
				</g:HorizontalPanel>
				<g:Image resource="{resources.menuIcon}" styleName="{style.menuLink}" ui:field="menuIcon" visible="false"/>
			</g:HTMLPanel>
		</g:FocusPanel>
		<div ui:field="bodyContainer" class="{style.body}">
			<ow:ReleaseWidgetContainer ui:field="releaseContainer" styleName="{style.releaseContainer}" />
			<g:HorizontalPanel ui:field="laterSeparator" styleName="{style.laterSeparator}" verticalAlignment="middle">
				<g:Image resource="{resources.laterImage}" styleName="{style.laterImage}"/>
				<g:Label text="Later" styleName="{style.laterLabel}"/>
				<g:cell width="100%">
					<g:SimplePanel styleName="{style.laterLine}"/>
				</g:cell>
			</g:HorizontalPanel>
			<ow:ScopeWidgetContainer ui:field="scopeContainer" styleName="{style.scopeContainer}" />
		</div>
	</g:HTMLPanel>
</ui:UiBinder> 